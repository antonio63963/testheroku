(this.webpackJsonpherokustore=this.webpackJsonpherokustore||[]).push([[0],{105:function(e,t,r){e.exports={card_margin:"products_card_margin__32i2p",prodWrapper:"products_prodWrapper__2eaEg",spinner:"products_spinner__L8kFv"}},139:function(e,t,r){e.exports={badge:"storeIcon_badge__22zsT"}},161:function(e,t,r){},260:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(30),s=r.n(a),o=r(10),i=(r(160),r(161),r(2)),d=r(1),l=r(19),u=r.n(l),j=r(48),p=r(61),b=r.n(p),O="PRODUCT_LOAD_IN_PROGRESS",m="PRODUCT_LOAD_FAIL",x="PRODUCT_ADD_BY_ID",h="GET_PRODUCTS_BY_LIMIT",f="LOADING",g="INIT_APP",v="ADD_TO_STORE",_="INCREASE_STORE",y="DELETE_ITEM_FROM_STORE",N=function(){var e=Object(j.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im n limit!!!"),e.next=3,b.a.get("/api/products");case 3:if(t=e.sent,console.log("action by limit: ",t),200===t.status){e.next=7;break}return e.abrupt("return",{type:m});case 7:return r={type:h,payload:{products:t.data.payload}},e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://fakestoreapi.com/products/categories");case 2:if(200===(t=e.sent).status){e.next=5;break}return e.abrupt("return",{type:m});case 5:return r={type:g,payload:{categories:t.data}},e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(u.a.mark((function e(t){var r,c,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return r=e.sent,c=r.payload,n=c.products,console.log("products",n),e.next=8,C();case 8:(a=e.sent).payload=Object(d.a)(Object(d.a)({},a.payload),{},{products:n}),console.log("action: ",a),t(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e,t){t(function(e){var t=e.id,r=e.price,c=void 0===r?0:r,n=e.title,a=void 0===n?"":n,s=e.image;return{type:v,payload:{id:t,price:c,title:a,image:void 0===s?"":s}}}(e))},A=function(e,t){t(function(e){return{type:_,payload:e}}(e))},E=function(e,t){t(function(e){return{type:y,payload:{id:e}}}(e))},T=r(17),k=r(50),w=r(263),D=r(113),P=r(267),$=r(270),L=r(271),U=r(272),R=r(273),W=r(274),F=r(268),M=r(139),z=r.n(M),B=r(5),J=function(){var e=Object(T.c)((function(e){return e.store.generalAmount}));return Object(B.jsx)(F.a,{className:z.a.badge,count:e,overflowCount:10,children:Object(B.jsx)("i",{style:{fontSize:"30px",color:"white"},className:"fas fa-shopping-basket"})})},G=w.a.Header,H=w.a.Content,Z=w.a.Footer,q=w.a.Sider,K=D.a.SubMenu;function Y(e){var t=e.children,r=Object(c.useState)(!1),n=Object(i.a)(r,2),a=n[0],s=n[1];Object(T.b)();return Object(B.jsxs)(w.a,{style:{minHeight:"100vh"},children:[Object(B.jsxs)(G,{className:"site-layout-background",style:{padding:0},children:["HELL(O)",Object(B.jsx)(J,{})]}),Object(B.jsxs)(w.a,{children:[Object(B.jsxs)(q,{collapsible:!0,collapsed:a,onCollapse:function(e){s(e)},children:[Object(B.jsx)("div",{className:"logo"}),Object(B.jsxs)(D.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(B.jsx)(D.a.Item,{icon:Object(B.jsx)($.a,{}),children:Object(B.jsx)(k.b,{to:"/",children:" Actions "})},"1"),Object(B.jsx)(D.a.Item,{icon:Object(B.jsx)(L.a,{}),children:Object(B.jsx)(k.b,{to:"/products",children:" Products "})},"2"),Object(B.jsx)(k.b,{to:"/categories",children:Object(B.jsxs)(K,{icon:Object(B.jsx)(U.a,{}),title:"Categories",children:[Object(B.jsx)(D.a.Item,{children:"electronics"},"3"),Object(B.jsx)(D.a.Item,{children:"jewelery"},"4"),Object(B.jsx)(D.a.Item,{children:"men's clothing"},"5"),Object(B.jsx)(D.a.Item,{children:"women's clothing"},"7")]},"sub1")}),Object(B.jsxs)(K,{icon:Object(B.jsx)(R.a,{}),title:"Team",children:[Object(B.jsx)(D.a.Item,{children:"Team 1"},"6"),Object(B.jsx)(D.a.Item,{children:"Team 2"},"8")]},"sub2"),Object(B.jsx)(D.a.Item,{icon:Object(B.jsx)(W.a,{}),children:Object(B.jsx)(k.b,{to:"/store",children:"Store"})},"9")]})]}),Object(B.jsxs)(w.a,{className:"site-layout",children:[Object(B.jsxs)(H,{style:{margin:"0 16px"},children:[Object(B.jsxs)(P.a,{style:{margin:"16px 0"},children:[Object(B.jsx)(P.a.Item,{children:"User"}),Object(B.jsx)(P.a.Item,{children:"Bill"})]}),Object(B.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:t})]}),Object(B.jsx)(Z,{style:{textAlign:"center"},children:"Ant Design \xa92018 Created by Ant UED"})]})]})]})}var V=r(66),Q=r(41),X=r(266);function ee(){var e=Object(T.c)((function(e){return e.categories}));Object(T.b)();return Object(B.jsx)("div",{className:"site-card-wrapper",children:Object(B.jsx)(V.a,{gutter:16,children:e.map((function(e){return Object(B.jsx)(Q.a,{span:8,style:{marginBottom:"20px"},children:Object(B.jsx)(X.a,{title:e,bordered:!1,children:"Card content"})})}))})})}var te=r(106),re=r(53),ce=r.n(re),ne=X.a.Meta;function ae(e){var t=e.product,r=(Object(T.c)((function(e){return e.store})),Object(T.b)()),n=t.id,a=void 0===n?0:n,s=t.title,o=void 0===s?"some title":s,d=t.price,l=void 0===d?1:d,u=t.image,j=t.description,p=void 0===j?"some description":j,b={id:a,title:o,price:l,image:u},O=Object(c.useState)(!1),m=Object(i.a)(O,2),x=m[0],h=m[1];return Object(B.jsxs)("div",{className:ce.a.card,children:[Object(B.jsxs)(X.a,{onMouseOver:function(e){h(!0)},hoverable:!0,style:{width:240},cover:Object(B.jsx)("div",{className:ce.a.imgWrapper,children:Object(B.jsx)("img",{alt:"example",className:ce.a.imgCard,src:u})}),children:[Object(B.jsx)(ne,{title:o}),"$",l]}),Object(B.jsxs)(X.a,{onMouseOut:function(){return h(!1)},className:x?ce.a.focussedCard:ce.a.dispNone,hoverable:!0,style:{width:240},cover:Object(B.jsx)("div",{className:ce.a.imgWrapper,children:Object(B.jsx)("img",{alt:"example",className:ce.a.imgCard,src:u})}),children:[Object(B.jsx)(ne,{title:o}),"$",l,Object(B.jsx)("div",{children:Object(B.jsx)(te.a,{type:"primary",onClick:function(){return function(e,t){I(e,t)}(b,r)},children:"Add to store"})}),Object(B.jsx)("hr",{}),Object(B.jsx)("p",{children:p})]})]})}var se=r(264);function oe(){return Object(B.jsx)("div",{className:"example",children:Object(B.jsx)(se.a,{size:"large"})})}var ie=r(105),de=r.n(ie);var le=function(){var e=Object(T.c)((function(e){return e})),t=Object(T.b)();console.log("Productd_out"),Object(c.useEffect)((function(){e.products||S(t),console.log("Productd")}),[]),Object(c.useEffect)((function(){console.log(e)}),[e]);var r="SUCCESS"!==e.arrProductStatus;return Object(B.jsx)("div",{children:r?Object(B.jsx)("div",{className:de.a.prodWrapper,children:Object(B.jsx)(oe,{className:de.a.spinner,style:{position:"absolute",bottom:"50px"}})}):Object(B.jsx)(V.a,{gutter:16,children:e.products.map((function(e){return Object(B.jsx)(Q.a,{className:de.a.card_margin,children:Object(B.jsx)(ae,{product:e})},e.id)}))})})};function ue(){return Object(B.jsxs)(X.a,{title:"Actions",children:[Object(B.jsx)(X.a,{type:"inner",title:"Action 1",extra:Object(B.jsx)("a",{href:"#",children:"More"}),children:"Super action #1"}),Object(B.jsx)(X.a,{style:{marginTop:16},type:"inner",title:"Action 2",extra:Object(B.jsx)("a",{href:"#",children:"More"}),children:"Super action #2"})]})}var je=r(269),pe=r(265),be=r(49),Oe=r.n(be),me=function(e){var t=e.props,r=t.id,c=t.ind,n=Object(T.b)(),a=Object(T.c)((function(e){return e.store.items[c]})),s=a.title,o=a.price,i=a.amount,d=a.image,l=a.sum;return Object(B.jsxs)(je.b,{size:12,children:[Object(B.jsx)(pe.a,{width:200,src:d,placeholder:Object(B.jsx)(pe.a,{preview:!1,src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200",width:200})}),Object(B.jsxs)("div",{className:Oe.a.bodyCardWrapper,children:[Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{className:Oe.a.propName,children:"Title: "}),Object(B.jsx)("span",{children:s}),Object(B.jsxs)("h3",{className:Oe.a.propName,children:["Price: ",o]}),Object(B.jsx)("span",{children:o}),Object(B.jsx)("h3",{className:Oe.a.propName,children:"Amount:"}),Object(B.jsx)("span",{children:i}),Object(B.jsx)("h2",{className:Oe.a.propName,children:"Sum:"}),Object(B.jsx)("span",{children:l})]}),Object(B.jsxs)("div",{className:Oe.a.buttonsWrapper,children:[Object(B.jsx)(te.a,{onClick:function(){return console.log("CLICK"),void I({id:r,ind:c},n)},className:Oe.a.btnAction,type:"primary",children:"Add"}),Object(B.jsx)(te.a,{onClick:function(){A({id:r,amount:i},n)},className:Oe.a.btnAction,type:"primary",children:"Decrease"}),Object(B.jsx)(te.a,{onClick:function(){E(r,n)},className:Oe.a.btnAction,type:"danger",children:"Delete"})]})]})]})},xe=function(){var e=Object(o.f)(),t=Object(T.c)((function(e){return e.store}));Object(T.b)();return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Store"}),Object(B.jsx)("div",{children:t.items.map((function(e,t){return Object(B.jsx)(me,{props:{id:e.id,ind:t}},"sotoreItem".concat(t))}))}),Object(B.jsx)("hr",{}),Object(B.jsx)("h2",{style:{margin:0},children:"Total:"}),Object(B.jsx)("h3",{children:t.total.toFixed(2)}),Object(B.jsx)("button",{onClick:function(){return e("/products")},children:"\u0421ontinue shopping"})]})})};var he=function(){var e=Object(T.b)();return console.log("App init"),Object(c.useEffect)((function(){S(e)}),[]),Object(B.jsx)(Y,{children:Object(B.jsxs)(o.c,{children:[Object(B.jsx)(o.a,{exact:!0,path:"/",element:Object(B.jsx)(ue,{})}),Object(B.jsx)(o.a,{exact:!0,path:"/categories",element:Object(B.jsx)(ee,{})}),Object(B.jsx)(o.a,{exact:!0,path:"/products",element:Object(B.jsx)(le,{})}),Object(B.jsx)(o.a,{exact:!0,path:"/store",element:Object(B.jsx)(xe,{})})]})})},fe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,275)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),a(e),s(e)}))},ge=r(152),ve=r(7),_e=r(37),ye=r.n(_e),Ne={categories:[],products:[],store:{items:[],generalAmount:0,total:0}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,r=function(t){return e.products.findIndex((function(e){return e.id==t}))},c=function(e){var t=e.store.items.reduce((function(e,t){return t.sum=t.amount*t.price,e.generalAmount+=t.amount,e.total+=t.sum,e}),{total:0,generalAmount:0}),r=t.total,c=t.generalAmount;e.store.generalAmount=c,e.store.total=r};switch(t.type){case f:return ye()(e,{arrProductStatus:{$set:{LOADING:f}}});case O:var n={id:Number(t.payload.id),status:"in_progress"};return ye()(e,{products:{$push:[n]}});case m:var a=r(t.payload.id);return ye()(e,{products:Object(ve.a)({},a,{status:{$set:"fail"}})});case x:var s=r(t.payload.product.id),o=ye()(e,{products:Object(ve.a)({},s,{$set:t.payload.product})});return console.log("add : ",s,o),o;case f:return ye()(e,{$set:{arrProductStatus:t.payload}});case h:return ye()(e,{products:{$set:t.payload.products},arrProductStatus:{$set:"SUCCESS"}});case g:return ye()(e,{categories:{$set:t.payload.categories},products:{$set:t.payload.products},arrProductStatus:{$set:"SUCCESS"}});case v:var i=e.store.items.reduce((function(e,r,c){return r.id===t.payload.id&&(e.ind=c,e.amount=r.amount+1),e}),{ind:null,amount:null});if(console.log("REDUCE: ",i),null===i.ind){var l=Object(d.a)(Object(d.a)({},t.payload),{},{amount:1}),u=ye()(e,{store:{items:{$push:[l]}}});return c(u),u}var j=ye()(e,{store:{items:Object(ve.a)({},i.ind,{amount:{$set:i.amount}})}});return c(j),console.log("for store: ",j),j;case _:var p=t.payload,b=p.id,N=p.amount;if(0===N)return e;console.log("INcrease: ",N);var C=r(b);console.log("inc ind: ",C);var S=ye()(e,{store:{items:Object(ve.a)({},C,{amount:{$set:N-1}})}});return c(S),console.log("inc state: ",S),S;case y:var I=t.payload.id,A=r(I),E=ye()(e,{store:{items:{$splice:[[A,1]]}}});return c(E),E;default:return e}},Se=Object(ge.a)(Ce);s.a.render(Object(B.jsx)(n.a.StrictMode,{children:Object(B.jsx)(T.a,{store:Se,children:Object(B.jsx)(k.a,{children:Object(B.jsx)(he,{})})})}),document.getElementById("root")),fe()},49:function(e,t,r){e.exports={bodyCardWrapper:"storeItem_bodyCardWrapper__oXa-o",btnAction:"storeItem_btnAction__1DLuL",propName:"storeItem_propName__2c12c"}},53:function(e,t,r){e.exports={imgCard:"card_imgCard__3qJWg",imgWrapper:"card_imgWrapper__3UmUB",spinner:"card_spinner__3zKaA",card:"card_card__2_QZT",focussedCard:"card_focussedCard__20mJJ",hidden:"card_hidden__2YuwZ",dispNone:"card_dispNone__14y2i"}}},[[260,1,2]]]);
//# sourceMappingURL=main.60622f0b.chunk.js.map